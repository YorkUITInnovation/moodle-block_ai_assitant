{"version":3,"file":"questions_list.min.js","sources":["../src/questions_list.js"],"sourcesContent":["import notification from 'core/notification';\nimport ajax from 'core/ajax';\nimport * as Str from 'core/str';\n\nexport const init = () => {\n    delete_question();\n};\n\n/**\n * Delete a content\n */\nfunction delete_question() {\n    const buttons = document.querySelectorAll('.block-ai-assistant-delete-question');\n    buttons.forEach(button => {\n        button.addEventListener('click', function () {\n            const row = this.closest('tr');\n            const questionid = this.getAttribute('data-questionid');\n            var courseid = this.getAttribute('data-courseid');\n            // Pop up notificaiton to confirm delete\n            notification.confirm(Str.get_string('delete', 'block_ai_assistant'),\n                Str.get_string('delete_question_help', 'block_ai_assistant'),\n                Str.get_string('delete', 'block_ai_assistant'),\n                Str.get_string('cancel', 'block_ai_assistant'), function () {\n                    //Delete the record\n                    var delete_content = ajax.call([{\n                        methodname: 'block_ai_assistant_delete_question_file',\n                        args: {\n                            'questionid': questionid,\n                            'courseid': courseid\n                        }\n                    }]);\n\n                    delete_content[0].done(function () {\n                        row.parentNode.removeChild(row);\n                    }).fail(function () {\n                        alert('An error has occurred. The record was not deleted');\n                    });\n                });\n        });\n    });\n}"],"names":["document","querySelectorAll","forEach","button","addEventListener","row","this","closest","questionid","getAttribute","courseid","confirm","Str","get_string","ajax","call","methodname","args","done","parentNode","removeChild","fail","alert"],"mappings":"4zCAIoB,KAQAA,SAASC,iBAAiB,uCAClCC,SAAQC,SACZA,OAAOC,iBAAiB,SAAS,iBACvBC,IAAMC,KAAKC,QAAQ,MACnBC,WAAaF,KAAKG,aAAa,uBACjCC,SAAWJ,KAAKG,aAAa,uCAEpBE,QAAQC,IAAIC,WAAW,SAAU,sBAC1CD,IAAIC,WAAW,uBAAwB,sBACvCD,IAAIC,WAAW,SAAU,sBACzBD,IAAIC,WAAW,SAAU,uBAAuB,WAEvBC,cAAKC,KAAK,CAAC,CAC5BC,WAAY,0CACZC,KAAM,YACYT,oBACFE,aAIL,GAAGQ,MAAK,WACnBb,IAAIc,WAAWC,YAAYf,QAC5BgB,MAAK,WACJC,MAAM"}